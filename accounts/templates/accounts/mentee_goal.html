{% extends 'accounts/main.html' %}
{% block content %}

<br>

<div class="row">
    <div class="col">
        <div class="col-md">
            <div class="card text-center text-white  mb-3" id="total-tasks">
                <div class="card-header">
                    <h5 class="card-title">Total Goal</h5>
                </div>
                <div class="card-body">
                    <h3 class="card-title">{{goal_count}}</h3>
                </div>
            </div>
        </div>
    </div>

    <div class="col">
        <div class="col-md">
            <div class="card text-center text-white  mb-3" id="tasks-completed">
                <div class="card-header">
                    <h5 class="card-title">Percentage of Completed Goals</h5>
                </div>
                <div class="card-body">
                	<h3 class="card-title">{{perc}} %</h3>
                </div>
            </div>
        </div>
    </div>

    <div class="col">
        <div class="col-md">
            <div class="card text-center text-white  mb-3" id="tasks-pending">
                <div class="card-header">
                    <h5 class="card-title">Active Goals</h5>
                </div>
                <div class="card-body">
                    <h3 class="card-title">{{active}}</h3>
                </div>
            </div>
        </div>
    </div>
</div>


	<br>

<div class="row">
	<div class="col-md" style="margin-left: 20px;">
		<div class="card card-body" style="padding-bottom: 70px;">
			<h5>Goal:</h5>
			<hr>
			<a class="btn btn-lg btn-info" style="margin-top: 20px;" href="{% url 'create_goal' match.id %}">Create Goal</a>

		</div>
	</div>

	<div class="col-md" style="margin-right: 20px;">
		<div class="card card-body">
			<h5>Mentee</h5>
			<hr>
			<p>Name: {{match.mentee}} </p>
			<p>Date matched: {{match.date_matched}}</p>
			<p>Status: {{match.status}} </p>
		</div>
	</div>

<!-- 	<div class="col-md">
		<div class="card card-body">
			<h5>Total Goals</h5>
			<hr>
			<h1 style="text-align: center;padding: 10px">{{goal_count}}</h1>
		</div>
	</div> -->
</div>


<br>
<div class="row">
	<div class="col">
		<div class="card card-body" style="margin-left: 20px; margin-right: 20px;">

			<form method="get" style="margin-left: 10px; margin-right: 10px;">
				{{myFilter.form}}

		    <button class="btn btn-primary" style="margin-left: 20px;" type="submit">Search</button>
		  </form>

		</div>
	</div>
	
</div>
<br>

<div class="row">
	<div class="col-md" style="margin-left: 20px; margin-right: 20px;">
		<div class="card card-body">
			<table class="table table-sm">
				<tr>
					<th>Title</th>
					<th>Category</th>
					<th>Description</th>
					<th>Status</th>
					<th>Update</th>
					<th>Remove</th>
				</tr>

				{% for goal in goals %}
				<!-- buat yg ni kena tengok nama sama dgn models.py -->
				<tr>
					<td>{{goal.title}}</td>
					<td>{{goal.category}}</td>
					<td>{{goal.description}}</td>
					<td>{{goal.status}}</td>
					<td><a class="btn btn-sm btn-info" href="{% url 'update_goal' goal.id %}">Update</a></td>
                    <td><a class="btn btn-sm btn-danger" href="{% url 'delete_goal' goal.id %}">Delete</a></td>
				</tr>

				{% endfor %}

			</table>
		</div>
	</div>
</div>

{% endblock %}